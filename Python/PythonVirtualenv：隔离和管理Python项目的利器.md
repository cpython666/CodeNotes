## 引言: 

### 为什么要用虚拟环境

我看到很多python的初学者同学，使用最新版的pycharm，新建一个工程时候默认就是venu虚拟环境。 然后在使用cmd里面pip安装第三方包的时候，在工程里面死活导入不成功，搞的开始怀疑人生。（你给他讲这是虚拟环境venu，他会一脸懵逼!）

而且我们还会接触到很多的环境，anaconda的，pycharm的，系统安装的。。。

那么如何查看此时的python解释器的位置呢？

```
python -c "import sys; print(sys.executable)"
```

如果你已经使用python写了一个项目的自动化测试代码了，然后你开始写第二个项目，第三个项目。。。。当你写的项目越来越多时候， 你会发现python使用pip安装的第三方包会越来越多，并且你会在安装第三方包的时候踩坑，比如不同的python版本匹配不同的pytest包，或者django1和django2差异又很大。 这时候你会发现我需要同时安装2个版本的包，对比差异性，或者同时开发多个项目，很显然一套环境已经不能满足我们的需求了。

于是需要有多套python环境，也就是需要学会使用虚拟环境了！

Python的Virtualenv（虚拟环境）是一个强大的工具，它可以帮助开发者在同一台机器上管理多个Python项目，并且能够在这些项目之间进行隔离。Virtualenv提供了一种有效的方式来解决不同项目之间的依赖冲突问题，同时还能够确保每个项目都拥有独立的Python环境。本篇博客将详细介绍Virtualenv的使用方法以及它的一些最佳实践。

### 什么是Virtualenv? 

Virtualenv是一个用于创建和管理Python虚拟环境的工具。虚拟环境是一种在同一台机器上隔离的Python运行环境，每个虚拟环境都有自己独立的Python解释器和包依赖。通过使用Virtualenv，我们可以在不同的项目中使用不同的Python版本和包，避免项目之间的依赖冲突。

## 正文

### 安装Virtualenv 

在开始使用Virtualenv之前，首先需要安装它。可以使用pip工具来安装Virtualenv，命令如下：

```ruby
pip install virtualenv
```

### 创建虚拟环境 

一旦安装了Virtualenv，我们可以创建一个新的虚拟环境。在终端中，切换到你想要创建虚拟环境的目录，并执行以下命令：

```ruby
virtualenv myenv
```

这将在当前目录下创建一个名为myenv的虚拟环境。

### 激活和退出虚拟环境 

创建虚拟环境后，我们需要激活它才能使用。在终端中执行以下命令来激活虚拟环境：

```ruby
source myenv/bin/activate
```

激活后，你会在命令行提示符前看到虚拟环境的名称（例如，(myenv)），表示你正在使用虚拟环境。

要退出虚拟环境，只需执行以下命令：

```ruby
deactivate
```

### 在虚拟环境中安装依赖 

激活虚拟环境后，你可以使用pip来安装项目所需的依赖包。例如：

```ruby
pip install package_name
```

这将在虚拟环境中安装指定的包。

1. 导出和导入依赖 有时候，你可能想要将虚拟环境中已安装的依赖导出并分享给其他人。可以使用以下命令将虚拟环境中的依赖导出到一个文本文件中：

```ruby
pip freeze > requirements.txt
```

导出后，会生成一个名为requirements.txt的文件，其中包含了所有已安装的包及其版本信息。

其他人可以通过以下命令来导入这些依赖：

```ruby
pip install -r requirements.txt
```

这将根据requirements.txt文件中的内容安装所需的依赖。

### 虚拟环境的最佳实践

- 使用版本控制：将虚拟环境与项目代码一起纳入版本控制，以便团队中的其他人可以轻松地创建相同的开发环境。
- 忽略虚拟环境：在项目的.gitignore或其他版本控制工具的忽略文件中添加虚拟环境文件夹，以避免将虚拟环境文件提交到代码仓库中。
- 更新Virtualenv：定期检查并更新Virtualenv工具，以确保使用最新版本的功能和安全修复。

### 结论 

Python的Virtualenv是一个强大而灵活的工具，可以帮助我们在同一台机器上管理和隔离多个Python项目。通过创建独立的虚拟环境，我们可以避免项目之间的依赖冲突，并确保每个项目都有自己独立的Python环境。使用Virtualenv，我们可以更好地组织和管理我们的Python项目，提高开发效率。

希望本篇博客对你理解和使用Virtualenv有所帮助。使用Virtualenv可以在Python开发中极大地简化依赖管理和环境隔离的过程，让你能够更专注地进行开发工作。